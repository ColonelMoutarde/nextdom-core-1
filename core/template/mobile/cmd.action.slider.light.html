<div class="cmd col-md-6 col-xs-12 cmd-widget #history#" data-version="#version#" data-type="info" data-subtype="numeric" data-cmd_id="#id#" data-cmd_uid="#uid#">
    <div class="row">
        <div class="col-xs-8">
            <div style="#hideCmdName#">#name_display#</div>
        </div>
        <div class="col-xs-4">
            <span class="cursor iconCmd" id="iconCmd"></span>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            <div class="slider full-width-slider ui-slider">
                <input type="number" data-type="range" min="#minValue#" max="#maxValue#" value="#state#" data-highlight="true" />
            </div>
        </div>
    </div>
    <script>
        $('.cmd[data-cmd_id=#id#] .iconCmd').on('click', function () {
            if ($(this).attr('data-state') == 'on') {
                var value = ('#minValue#' == '') ? 0 : parseInt('#minValue#');
                nextdom.cmd.execute({id: '#id#', value: {slider: value}});
            } else {
                var value = ('#minValue#' == '') ? 100 : parseInt('#maxValue#');
                nextdom.cmd.execute({id: '#id#', value: {slider: value}});
            }
        });
        $("body").undelegate(".cmd[data-cmd_uid=#uid#] .slider");
        $("body").delegate(".cmd[data-cmd_uid=#uid#] .slider", 'slidestop', function (event, ui) {
            nextdom.cmd.execute({id: '#id#', value: {slider: $(".cmd[data-cmd_uid=#uid#] .slider input").value()}});
        });
        nextdom.cmd.update['#id#'] = function (_options) {
            var iconCmd = $('.cmd[data-cmd_id=#id#] .iconCmd');
            $(".cmd[data-cmd_id=#id#] .slider input").value(_options.display_value);
            if (parseInt(_options.display_value) > 0) {
                iconCmd.empty().append('<i class="icon nextdom-lumiere-on"></i>');
                iconCmd.attr('data-state', 'on');
            } else {
                iconCmd.empty().append('<i class="icon nextdom-lumiere-off"></i>');
                iconCmd.attr('data-state', 'off');
            }
        };
        nextdom.cmd.update['#id#']({display_value: '#state#'});
    </script>
    <style>
        .cmd[data-cmd_uid="#uid#"] .ui-slider-handle {
            background-color: #f1c40f !important;
        }

        .cmd[data-cmd_uid="#uid#"] .ui-slider-bg {
            background-color: #f1c40f !important;
        }
    </style>
</div>



